Picked up JAVA_TOOL_OPTIONS: -Dsun.locale.formatasdefault=true
[INFO] Scanning for projects...
[INFO] 
[INFO] -----------------< com.ecommerce:client-microservice >------------------
[INFO] Building client 0.0.1-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot-maven-plugin:2.2.0.RELEASE:run (default-cli) > test-compile @ client-microservice >>>
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ client-microservice ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 0 resource
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ client-microservice ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 23 source files to /Users/florent.masdoumier/IdeaProjects/Trip/client-microservice/target/classes
[INFO] /Users/florent.masdoumier/IdeaProjects/Trip/client-microservice/src/main/java/com/ecommerce/client/service/impl/ClientServiceImpl.java: /Users/florent.masdoumier/IdeaProjects/Trip/client-microservice/src/main/java/com/ecommerce/client/service/impl/ClientServiceImpl.java uses unchecked or unsafe operations.
[INFO] /Users/florent.masdoumier/IdeaProjects/Trip/client-microservice/src/main/java/com/ecommerce/client/service/impl/ClientServiceImpl.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ client-microservice ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /Users/florent.masdoumier/IdeaProjects/Trip/client-microservice/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ client-microservice ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /Users/florent.masdoumier/IdeaProjects/Trip/client-microservice/target/test-classes
[INFO] 
[INFO] <<< spring-boot-maven-plugin:2.2.0.RELEASE:run (default-cli) < test-compile @ client-microservice <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot-maven-plugin:2.2.0.RELEASE:run (default-cli) @ client-microservice ---
[INFO] Attaching agents: []
Picked up JAVA_TOOL_OPTIONS: -Dsun.locale.formatasdefault=true
2019-12-05 21:35:48.457  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in /Users/florent.masdoumier/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/Users/florent.masdoumier/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/Users/florent.masdoumier/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/Users/florent.masdoumier/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/Users/florent.masdoumier/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/Users/florent.masdoumier/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/Users/florent.masdoumier/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2019-12-05 21:35:48.461  INFO [client-microservice,,,] 88273 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-12-05 21:35:48.782  INFO [client-microservice,,,] 88273 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$643b050f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.0.RELEASE)

2019-12-05 21:35:48.953  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.c.c.ConfigServicePropertySourceLocator : Fetching config from server at : http://localhost:9094
2019-12-05 21:35:49.788  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.c.c.ConfigServicePropertySourceLocator : Located environment: name=client-microservice, profiles=[default], label=null, version=2d57eea6f627bdca98c59539000988821b3bde20, state=null
2019-12-05 21:35:49.789  INFO [client-microservice,,,] 88273 --- [  restartedMain] b.c.PropertySourceBootstrapConfiguration : Located property source: OriginTrackedCompositePropertySource {name='configService', propertySources=[MapPropertySource {name='configClient'}, OriginTrackedMapPropertySource {name='https://github.com/walterwhites/config-microservice-trip.git/client-microservice.properties'}]}
2019-12-05 21:35:49.818  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.ecommerce.client.ClientApplication   : No active profile set, falling back to default profiles: default
2019-12-05 21:35:51.099  INFO [client-microservice,,,] 88273 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-12-05 21:35:51.210  INFO [client-microservice,,,] 88273 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 98ms. Found 1 repository interfaces.
2019-12-05 21:35:51.457  WARN [client-microservice,,,] 88273 --- [  restartedMain] o.s.boot.actuate.endpoint.EndpointId     : Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2019-12-05 21:35:51.764  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=92eae8b3-4296-354b-af97-68f7566f7b8a
2019-12-05 21:35:52.191  INFO [client-microservice,,,] 88273 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-12-05 21:35:52.324  INFO [client-microservice,,,] 88273 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$643b050f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-12-05 21:35:53.006  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9098 (http)
2019-12-05 21:35:53.018  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-12-05 21:35:53.018  INFO [client-microservice,,,] 88273 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.27]
2019-12-05 21:35:53.171  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-12-05 21:35:53.171  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3336 ms
2019-12-05 21:35:53.342  WARN [client-microservice,,,] 88273 --- [  restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2019-12-05 21:35:53.342  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-12-05 21:35:53.352  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.netflix.config.DynamicPropertyFactory  : DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@9484201
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.springframework.cglib.core.ReflectUtils (file:/Users/florent.masdoumier/.m2/repository/org/springframework/spring-core/5.2.0.RELEASE/spring-core-5.2.0.RELEASE.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)
WARNING: Please consider reporting this to the maintainers of org.springframework.cglib.core.ReflectUtils
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-12-05 21:35:53.515  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-12-05 21:35:53.616  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-12-05 21:35:53.625  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2019-12-05 21:35:54.567  WARN [client-microservice,,,] 88273 --- [  restartedMain] o.s.c.s.zipkin2.ZipkinAutoConfiguration  : Check result of the [AsyncReporter{org.springframework.cloud.sleuth.zipkin2.sender.RestTemplateSender@2e4b6983}] contains an error [CheckResult{ok=false, error=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)}]
2019-12-05 21:35:54.820  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2019-12-05 21:35:54.911  INFO [client-microservice,,,] 88273 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.4.6.Final}
2019-12-05 21:35:55.050  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-12-05 21:35:55.163  INFO [client-microservice,,,] 88273 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: drop table client if exists
Hibernate: drop table client_roles if exists
Hibernate: create table client (id bigint generated by default as identity, email_address varchar(200), email_sent char(255), fullname varchar(255), login_attempt integer, password varchar(255), profile_id bigint, status char(255), username varchar(255), primary key (id))
Hibernate: create table client_roles (client_id bigint not null, roles varchar(255))
Hibernate: alter table client_roles add constraint FKhcuwm327ncan0ue5b65v578cl foreign key (client_id) references client
2019-12-05 21:35:55.885  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-12-05 21:35:55.893  INFO [client-microservice,,,] 88273 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-12-05 21:35:55.934  WARN [client-microservice,,,] 88273 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2019-12-05 21:35:56.033  WARN [client-microservice,,,] 88273 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-12-05 21:35:56.607  WARN [client-microservice,,,] 88273 --- [  restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2019-12-05 21:35:56.607  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-12-05 21:35:56.984  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-12-05 21:35:57.789  INFO [client-microservice,,,] 88273 --- [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 2584c94b-41e4-4834-bf14-7b4fb00ddb36

2019-12-05 21:35:57.929  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b485087, org.springframework.security.web.context.SecurityContextPersistenceFilter@50f63ce6, org.springframework.security.web.header.HeaderWriterFilter@65233f2, org.springframework.security.web.authentication.logout.LogoutFilter@373aac47, com.ecommerce.client.filter.CustomGatewayFilter@a5aac36, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@501629b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@406e7cbc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a7661d0, org.springframework.security.web.session.SessionManagementFilter@2f894c9e, org.springframework.security.web.access.ExceptionTranslationFilter@3dacea9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3491d538]
2019-12-05 21:35:58.513  WARN [client-microservice,,,] 88273 --- [  restartedMain] ockingLoadBalancerClientRibbonWarnLogger : You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
2019-12-05 21:35:58.757  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'
2019-12-05 21:35:58.843  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2019-12-05 21:35:58.932  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2019-12-05 21:35:59.104  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2019-12-05 21:35:59.104  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2019-12-05 21:35:59.218  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2019-12-05 21:35:59.219  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2019-12-05 21:35:59.377  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2019-12-05 21:35:59.394  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2019-12-05 21:35:59.395  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2019-12-05 21:35:59.395  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2019-12-05 21:35:59.395  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2019-12-05 21:35:59.395  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2019-12-05 21:35:59.395  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2019-12-05 21:35:59.395  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2019-12-05 21:35:59.538  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2019-12-05 21:35:59.541  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2019-12-05 21:35:59.544  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2019-12-05 21:35:59.549  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1575578159547 with initial instances count: 1
2019-12-05 21:35:59.564  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application CLIENT-MICROSERVICE with eureka with status UP
2019-12-05 21:35:59.565  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1575578159565, current=UP, previous=STARTING]
2019-12-05 21:35:59.567  INFO [client-microservice,,,] 88273 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_CLIENT-MICROSERVICE/port-201811-01:client-microservice:9098: registering service...
2019-12-05 21:35:59.608  INFO [client-microservice,,,] 88273 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_CLIENT-MICROSERVICE/port-201811-01:client-microservice:9098 - registration status: 204
2019-12-05 21:35:59.662  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9098 (http) with context path ''
2019-12-05 21:35:59.663  INFO [client-microservice,,,] 88273 --- [  restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9098
2019-12-05 21:35:59.670  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.ecommerce.client.ClientApplication   : Started ClientApplication in 11.837 seconds (JVM running for 12.715)
Hibernate: select client0_.id as id1_0_, client0_.email_address as email_ad2_0_, client0_.email_sent as email_se3_0_, client0_.fullname as fullname4_0_, client0_.login_attempt as login_at5_0_, client0_.password as password6_0_, client0_.profile_id as profile_7_0_, client0_.status as status8_0_, client0_.username as username9_0_ from client client0_
Hibernate: insert into client (id, email_address, email_sent, fullname, login_attempt, password, profile_id, status, username) values (null, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into client_roles (client_id, roles) values (?, ?)
2019-12-05 21:37:58.898  INFO [client-microservice,,,] 88273 --- [nio-9098-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-12-05 21:37:58.898  INFO [client-microservice,,,] 88273 --- [nio-9098-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-12-05 21:37:58.911  INFO [client-microservice,,,] 88273 --- [nio-9098-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
weshport-201811-01:9098
2019-12-05 21:40:59.391  INFO [client-microservice,,,] 88273 --- [trap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2019-12-05 21:45:59.393  INFO [client-microservice,,,] 88273 --- [trap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2019-12-05 21:50:44.189  INFO [client-microservice,,,] 88273 --- [       Thread-1] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application CLIENT-MICROSERVICE with eureka with status DOWN
2019-12-05 21:50:44.189  WARN [client-microservice,,,] 88273 --- [       Thread-1] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1575579044189, current=DOWN, previous=UP]
2019-12-05 21:50:44.189  INFO [client-microservice,,,] 88273 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_CLIENT-MICROSERVICE/port-201811-01:client-microservice:9098: registering service...
2019-12-05 21:50:44.193  INFO [client-microservice,,,] 88273 --- [       Thread-1] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-12-05 21:50:44.196  INFO [client-microservice,,,] 88273 --- [       Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-12-05 21:50:44.197  INFO [client-microservice,,,] 88273 --- [       Thread-1] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
Hibernate: drop table client if exists
2019-12-05 21:50:44.198  INFO [client-microservice,,,] 88273 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_CLIENT-MICROSERVICE/port-201811-01:client-microservice:9098 - registration status: 204
Hibernate: drop table client_roles if exists
2019-12-05 21:50:44.216  WARN [client-microservice,,,] 88273 --- [       Thread-1] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-199]
2019-12-05 21:50:44.731  INFO [client-microservice,,,] 88273 --- [       Thread-1] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2019-12-05 21:50:47.732  INFO [client-microservice,,,] 88273 --- [       Thread-1] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2019-12-05 21:50:47.747  INFO [client-microservice,,,] 88273 --- [       Thread-1] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_CLIENT-MICROSERVICE/port-201811-01:client-microservice:9098 - deregister  status: 200
2019-12-05 21:50:47.756  INFO [client-microservice,,,] 88273 --- [       Thread-1] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2019-12-05 21:50:47.757  INFO [client-microservice,,,] 88273 --- [       Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-12-05 21:50:47.759  INFO [client-microservice,,,] 88273 --- [       Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-12-05 21:50:47.937  INFO [client-microservice,,,] 88273 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$643b050f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.0.RELEASE)

2019-12-05 21:50:47.962  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.c.c.ConfigServicePropertySourceLocator : Fetching config from server at : http://localhost:9094
2019-12-05 21:50:48.690  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.c.c.ConfigServicePropertySourceLocator : Located environment: name=client-microservice, profiles=[default], label=null, version=2d57eea6f627bdca98c59539000988821b3bde20, state=null
2019-12-05 21:50:48.690  INFO [client-microservice,,,] 88273 --- [  restartedMain] b.c.PropertySourceBootstrapConfiguration : Located property source: OriginTrackedCompositePropertySource {name='configService', propertySources=[MapPropertySource {name='configClient'}, OriginTrackedMapPropertySource {name='https://github.com/walterwhites/config-microservice-trip.git/client-microservice.properties'}]}
2019-12-05 21:50:48.695  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.ecommerce.client.ClientApplication   : No active profile set, falling back to default profiles: default
2019-12-05 21:50:49.046  INFO [client-microservice,,,] 88273 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-12-05 21:50:49.056  INFO [client-microservice,,,] 88273 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 1 repository interfaces.
2019-12-05 21:50:49.166  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=92eae8b3-4296-354b-af97-68f7566f7b8a
2019-12-05 21:50:49.200  INFO [client-microservice,,,] 88273 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-12-05 21:50:49.216  INFO [client-microservice,,,] 88273 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$643b050f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-12-05 21:50:49.308  WARN [client-microservice,,,] 88273 --- [  restartedMain] org.apache.tomcat.util.modeler.Registry  : The MBean registry cannot be disabled because it has already been initialised
2019-12-05 21:50:49.334  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9098 (http)
2019-12-05 21:50:49.335  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-12-05 21:50:49.335  INFO [client-microservice,,,] 88273 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.27]
2019-12-05 21:50:49.351  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-12-05 21:50:49.352  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 655 ms
2019-12-05 21:50:49.461  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2019-12-05 21:50:49.462  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2019-12-05 21:50:49.462  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2019-12-05 21:50:49.893  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2019-12-05 21:50:49.899  INFO [client-microservice,,,] 88273 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: drop table client if exists
Hibernate: drop table client_roles if exists
Hibernate: create table client (id bigint generated by default as identity, email_address varchar(200), email_sent char(255), fullname varchar(255), login_attempt integer, password varchar(255), profile_id bigint, status char(255), username varchar(255), primary key (id))
Hibernate: create table client_roles (client_id bigint not null, roles varchar(255))
Hibernate: alter table client_roles add constraint FKhcuwm327ncan0ue5b65v578cl foreign key (client_id) references client
2019-12-05 21:50:49.938  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-12-05 21:50:49.938  INFO [client-microservice,,,] 88273 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-12-05 21:50:49.953  WARN [client-microservice,,,] 88273 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2019-12-05 21:50:49.994  WARN [client-microservice,,,] 88273 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-12-05 21:50:50.151  WARN [client-microservice,,,] 88273 --- [  restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2019-12-05 21:50:50.151  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-12-05 21:50:50.282  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-12-05 21:50:50.524  INFO [client-microservice,,,] 88273 --- [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 1c035d23-d9af-451a-923f-d2a585e55d54

2019-12-05 21:50:50.560  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d778bae, org.springframework.security.web.context.SecurityContextPersistenceFilter@1d8478eb, org.springframework.security.web.header.HeaderWriterFilter@6cefcd64, org.springframework.security.web.authentication.logout.LogoutFilter@1d35c148, com.ecommerce.client.filter.CustomGatewayFilter@4f818b02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d4df137, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7233c065, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3deed3b3, org.springframework.security.web.session.SessionManagementFilter@30ff248e, org.springframework.security.web.access.ExceptionTranslationFilter@44ffe2b8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@187739de]
2019-12-05 21:50:50.693  WARN [client-microservice,,,] 88273 --- [  restartedMain] ockingLoadBalancerClientRibbonWarnLogger : You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
2019-12-05 21:50:50.793  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'
2019-12-05 21:50:50.833  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2019-12-05 21:50:50.836  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2019-12-05 21:50:50.838  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2019-12-05 21:50:50.838  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2019-12-05 21:50:50.838  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2019-12-05 21:50:50.838  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2019-12-05 21:50:50.885  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2019-12-05 21:50:50.886  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2019-12-05 21:50:50.886  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2019-12-05 21:50:50.886  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2019-12-05 21:50:50.886  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2019-12-05 21:50:50.886  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2019-12-05 21:50:50.886  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2019-12-05 21:50:50.886  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2019-12-05 21:50:50.889  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2019-12-05 21:50:50.890  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2019-12-05 21:50:50.890  INFO [client-microservice,,,] 88273 --- [  restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2019-12-05 21:50:50.891  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1575579050891 with initial instances count: 7
2019-12-05 21:50:50.898  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application CLIENT-MICROSERVICE with eureka with status UP
2019-12-05 21:50:50.898  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1575579050898, current=UP, previous=STARTING]
2019-12-05 21:50:50.898  INFO [client-microservice,,,] 88273 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_CLIENT-MICROSERVICE/port-201811-01:client-microservice:9098: registering service...
2019-12-05 21:50:50.903  INFO [client-microservice,,,] 88273 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_CLIENT-MICROSERVICE/port-201811-01:client-microservice:9098 - registration status: 204
2019-12-05 21:50:50.914  INFO [client-microservice,,,] 88273 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9098 (http) with context path ''
2019-12-05 21:50:50.914  INFO [client-microservice,,,] 88273 --- [  restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9098
2019-12-05 21:50:50.916  INFO [client-microservice,,,] 88273 --- [  restartedMain] com.ecommerce.client.ClientApplication   : Started ClientApplication in 3.056 seconds (JVM running for 903.967)
Hibernate: select client0_.id as id1_0_, client0_.email_address as email_ad2_0_, client0_.email_sent as email_se3_0_, client0_.fullname as fullname4_0_, client0_.login_attempt as login_at5_0_, client0_.password as password6_0_, client0_.profile_id as profile_7_0_, client0_.status as status8_0_, client0_.username as username9_0_ from client client0_
Hibernate: insert into client (id, email_address, email_sent, fullname, login_attempt, password, profile_id, status, username) values (null, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into client_roles (client_id, roles) values (?, ?)
2019-12-05 21:50:51.002  INFO [client-microservice,,,] 88273 --- [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-12-05 21:51:07.369  INFO [client-microservice,,,] 88273 --- [extShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application CLIENT-MICROSERVICE with eureka with status DOWN
2019-12-05 21:51:07.370  WARN [client-microservice,,,] 88273 --- [extShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1575579067370, current=DOWN, previous=UP]
2019-12-05 21:51:07.370  INFO [client-microservice,,,] 88273 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_CLIENT-MICROSERVICE/port-201811-01:client-microservice:9098: registering service...
2019-12-05 21:51:07.372  INFO [client-microservice,,,] 88273 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-12-05 21:51:07.372  INFO [client-microservice,,,] 88273 --- [extShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-12-05 21:51:07.373  INFO [client-microservice,,,] 88273 --- [extShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
Hibernate: drop table client if exists
Hibernate: drop table client_roles if exists
2019-12-05 21:51:07.376  INFO [client-microservice,,,] 88273 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_CLIENT-MICROSERVICE/port-201811-01:client-microservice:9098 - registration status: 204
2019-12-05 21:51:07.378  WARN [client-microservice,,,] 88273 --- [extShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-199]
2019-12-05 21:51:07.868  INFO [client-microservice,,,] 88273 --- [extShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2019-12-05 21:51:10.868  INFO [client-microservice,,,] 88273 --- [extShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2019-12-05 21:51:10.872  INFO [client-microservice,,,] 88273 --- [extShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_CLIENT-MICROSERVICE/port-201811-01:client-microservice:9098 - deregister  status: 200
2019-12-05 21:51:10.877  INFO [client-microservice,,,] 88273 --- [extShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2019-12-05 21:51:10.878  INFO [client-microservice,,,] 88273 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2019-12-05 21:51:10.879  INFO [client-microservice,,,] 88273 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 15:37 min
[INFO] Finished at: 2019-12-05T21:51:10+01:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.2.0.RELEASE:run (default-cli) on project client-microservice: Application finished with exit code: 143 -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
